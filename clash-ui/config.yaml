# ç«¯å£è®¾ç½®
mixed-port: 7890
# port: 7890 # HTTP
# socks-port: 7891 # SOCKS5

# å…è®¸å±€åŸŸç½‘è¿æ¥
allow-lan: true
bind-address: '*'

# è¿è¡Œæ¨¡å¼
mode: rule

# æ—¥å¿—çº§åˆ«
log-level: info

# IPv6 æ”¯æŒ
ipv6: true

# å¤–éƒ¨æ§åˆ¶è®¾ç½® (Web Dashboard)
external-controller: '0.0.0.0:1123'
# è®¿é—®å¯†é’¥ (ç•™ç©ºåˆ™æ— éœ€å¯†ç )
secret: ''
# å¤–éƒ¨ UI è·¯å¾„ (å®¹å™¨å†…è·¯å¾„ï¼Œå¯¹åº” ./clash-ui/ui)
external-ui: ui

# æµé‡å—…æ¢ (å¯é€‰ï¼ŒMetaæ ¸å¿ƒç‰¹æ€§)
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]

# DNS é…ç½® (Meta æ¨èé…ç½®)
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*'
    - '+.lan'
    - '+.local'
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  fallback:
    - https://1.0.0.1/dns-query
    - https://8.8.4.4/dns-query
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4

# ä»£ç†ç»„ç­–ç•¥
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    use:
      - MyProvider
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - DIRECT

  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    use:
      - MyProvider
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - DIRECT

# è§„åˆ™
rules:
  - GEOIP,LAN,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# è®¢é˜…é…ç½®ç¤ºä¾‹ (è¯·å–æ¶ˆæ³¨é‡Šå¹¶æ›¿æ¢ url)
proxy-providers:
  MyProvider:
    type: http
    url: "https://103.118.42.169:21666/api/v1/client/subscribe?token=669c125595bf87f37721fcd41c777415"
    interval: 3600
    path: ./proxies/provider.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204